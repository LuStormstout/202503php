# Linux 基础知识

## 目录
1. [Linux 简介](#linux-简介)
2. [为什么服务器要用 Linux](#为什么服务器要用-linux)
3. [常用的云服务商](#常用的云服务商)
4. [Linux 目录结构介绍](#linux-目录结构介绍)
5. [Web 开发人员常用的 Linux 命令详解](#web-开发人员常用的-linux-命令详解)
6. [Linux 服务器使用中常犯的错误及注意事项](#linux-服务器使用中常犯的错误及注意事项)

## Linux 简介
Linux 是一个开源的类 Unix 操作系统，最初由 Linus Torvalds 在 1991 年发布。由于其开源、稳定、安全、高效等特点，Linux 已成为全球范围内广泛使用的操作系统之一，尤其在服务器领域更是占据了绝大部分市场。

## 为什么服务器要用 Linux
1. **开源和免费**: Linux 是一个开源项目，用户可以免费使用和修改源代码。相比于某些商业操作系统，使用 Linux 可以显著降低服务器的运营成本。
2. **稳定和可靠**: Linux 系统以其稳定性和可靠性著称，适合长时间无间断运行，这对于服务器尤为重要。
3. **安全性高**: 由于开源的特性，全球的开发者可以对 Linux 进行安全审计，及时修复漏洞。同时，Linux 提供了丰富的安全工具和配置选项。
4. **高性能**: Linux 系统资源占用少，性能优越，可以高效处理大量并发请求。
5. **灵活和可定制**: 用户可以根据需要定制 Linux 系统，安装和配置所需的软件和服务。

## 常用的云服务商
1. **Amazon Web Services (AWS)**: 全球领先的云服务提供商，提供广泛的云计算服务和解决方案。
2. **Microsoft Azure**: 微软的云计算平台，提供基础设施即服务 (IaaS)、平台即服务 (PaaS) 和软件即服务 (SaaS)。
3. **Google Cloud Platform (GCP)**: 谷歌的云计算平台，提供高性能的计算、存储和网络服务。
4. **Alibaba Cloud (阿里云)**: 中国领先的云服务提供商，提供全方位的云计算解决方案。
5. **Tencent Cloud (腾讯云)**: 腾讯提供的云计算平台，广泛应用于互联网、游戏、视频等领域。

## Linux 目录结构介绍
Linux 系统的目录结构是树形结构，根目录为 /，其下包含多个子目录。以下是常见的目录及其功能介绍：

- **/**: 根目录，所有文件和目录的起点。
- **/bin**: 存放基本命令的二进制可执行文件，如 ls、cp 等。
- **/boot**: 存放启动 Linux 系统所需的文件，如内核文件和引导加载程序。
- **/dev**: 存放设备文件，每个文件对应一个硬件设备，如硬盘、光驱等。
- **/etc**: 存放系统配置文件和子目录，如网络配置文件、用户账户信息等。
- **/home**: 存放用户的主目录，每个用户都有一个以其用户名命名的子目录。
- **/lib**: 存放系统运行所需的共享库文件和内核模块。
- **/media**: 挂载点，用于挂载可移动媒体设备，如 CD-ROM、U 盘等。
- **/mnt**: 挂载点，用于临时挂载文件系统。
- **/opt**: 用于存放可选的第三方软件包。
- **/proc**: 虚拟文件系统，提供系统内核和进程信息。
- **/root**: 超级用户（root）的主目录。
- **/run**: 存放系统运行时产生的临时文件。
- **/sbin**: 存放系统管理员使用的二进制可执行文件，如 ifconfig、reboot 等。
- **/srv**: 存放系统提供的服务相关的数据，如网页数据。
- **/sys**: 虚拟文件系统，存放与系统硬件相关的信息。
- **/tmp**: 存放临时文件，系统重启后会清空该目录。
- **/usr**: 用于存放用户级应用程序和文件，如二进制文件、库文件等。
- **/var**: 存放可变数据文件，如日志文件、邮件队列等。

## Web 开发人员常用的 Linux 命令详解
以下是 web 开发人员常用的 Linux 命令及其详细解释：

### 文件和目录操作
- **ls**: 列出目录内容
  ```bash
  ls -l  # 详细列出目录内容，包括权限、所有者、大小和修改时间
  ```
- **cd**: 切换目录
  ```bash
  cd /path/to/directory  # 切换到指定目录
  ```
- **pwd**: 显示当前目录路径
  ```bash
  pwd  # 显示当前工作目录的绝对路径
  ```
- **mkdir**: 创建新目录
  ```bash
  mkdir new_directory  # 创建一个名为 new_directory 的新目录
  ```
- **rm**: 删除文件或目录
  ```bash
  rm file.txt  # 删除文件 file.txt
  rm -r directory  # 递归删除目录 directory 及其内容
  ```
- **cp**: 复制文件或目录
  ```bash
  cp source.txt destination.txt  # 复制文件 source.txt 为 destination.txt
  cp -r source_directory destination_directory  # 递归复制目录
  ```
- **mv**: 移动或重命名文件或目录
  ```bash
  mv old_name.txt new_name.txt  # 重命名文件 old_name.txt 为 new_name.txt
  mv file.txt /path/to/directory  # 将文件移动到指定目录
  ```

### 文件查看和编辑
- **cat**: 查看文件内容
  ```bash
  cat file.txt  # 显示文件 file.txt 的内容
  ```
- **less**: 分页查看文件内容
  ```bash
  less file.txt  # 分页显示文件 file.txt 的内容
  ```
- **head**: 查看文件开头部分内容
  ```bash
  head file.txt  # 显示文件 file.txt 的前 10 行
  head -n 20 file.txt  # 显示文件的前 20 行
  ```
- **tail**: 查看文件结尾部分内容
  ```bash
  tail file.txt  # 显示文件 file.txt 的后 10 行
  tail -f file.txt  # 动态显示文件的新内容（常用于查看日志文件）
  ```
- **nano**: 简易文本编辑器
  ```bash
  nano file.txt  # 使用 nano 编辑文件 file.txt
  ```
- **vim**: 功能强大的文本编辑器
  ```bash
  vim file.txt  # 使用 vim 编辑文件 file.txt
  ```

### 文件权限和所有权
- **chmod**: 修改文件权限
  ```bash
  chmod 755 file.txt  # 设置文件 file.txt 的权限为 rwxr-xr-x
  ```
- **chown**: 修改文件所有者
  ```bash
  chown user:group file.txt  # 将文件 file.txt 的所有者和所属组修改为 user 和 group
  ```

### 网络操作
- **ping**: 测试网络连通性
  ```bash
  ping www.example.com  # 测试与 www.example.com 的连通性
  ```
- **curl**: 命令行工具，用于发送 HTTP 请求
  ```bash
  curl http://www.example.com  # 发送 GET 请求到指定 URL
  ```

### 系统管理
- **top**: 动态显示系统进程
  ```bash
  top  # 显示当前系统进程及其资源使用情况
  ```
- **ps**: 显示系统进程
  ```bash
  ps aux  # 显示所有系统进程
  ```
- **df**: 显示磁盘空间使用情况
  ```bash
  df -h  # 以人类可读的格式显示磁盘空间使用情况
  ```
- **free**: 显示内存使用情况
  ``` bash
  free -h  # 以人类可读的格式显示内存使用情况
  ```
  - **uptime**: 显示系统运行时间和负载
    ```bash
    uptime  # 显示系统已运行时间、当前时间、用户数和系统负载
    ```
- **shutdown**: 关闭或重启系统
  ```bash
  sudo shutdown -h now  # 立即关闭系统
  sudo shutdown -r now  # 立即重启系统
  ```

### 软件包管理
在 Ubuntu 和 CentOS 中，分别使用不同的包管理工具来安装和管理软件包。

**Ubuntu (使用 apt)**:
- **更新软件包索引**:
  ```bash
  sudo apt update  # 更新本地包索引
  ```
- **安装软件包**:
  ```bash
  sudo apt install package_name  # 安装指定的软件包
  ```
- **升级已安装的软件包**:
  ```bash
  sudo apt upgrade  # 升级所有已安装的软件包
  ```

**CentOS (使用 yum)**:
- **更新软件包索引**:
  ```bash
  sudo yum update  # 更新本地包索引
  ```
- **安装软件包**:
  ```bash
  sudo yum install package_name  # 安装指定的软件包
  ```
- **升级已安装的软件包**:
  ```bash
  sudo yum upgrade  # 升级所有已安装的软件包
  ```

## Linux 服务器使用中常犯的错误及注意事项

### 常犯的错误
1. **权限配置不当**:
  - **错误**: 给予文件或目录过高的权限，如 777（所有用户均有读写执行权限）。
  - **解释**: 这样做会导致安全风险，恶意用户可能会利用这些权限进行攻击。
  - **正确做法**: 根据实际需求设置最低权限，如 755（所有者有读写执行权限，组和其他用户只有读和执行权限）。

2. **未及时更新系统和软件**:
  - **错误**: 未定期更新系统和软件，导致系统存在已知的安全漏洞。
  - **解释**: 过时的软件和系统版本可能包含已知的漏洞，被攻击者利用。
  - **正确做法**: 定期运行更新命令，确保系统和软件处于最新版本。

3. **未配置防火墙**:
  - **错误**: 没有配置防火墙，导致所有端口均对外开放。
  - **解释**: 这会增加被攻击的风险，攻击者可以轻易扫描并利用开放端口进行攻击。
  - **正确做法**: 配置防火墙，只开放必要的端口。如使用 ufw（Ubuntu）或 firewalld（CentOS）。

4. **弱密码和未配置 SSH 密钥认证**:
  - **错误**: 使用简单密码或未配置 SSH 密钥认证。
  - **解释**: 弱密码容易被破解，未配置 SSH 密钥认证会增加被暴力破解的风险。
  - **正确做法**: 使用复杂密码并配置 SSH 密钥认证，禁止使用密码登录。

### 注意事项
1. **定期备份**: 定期备份重要数据，防止数据丢失。
2. **监控系统状态**: 使用监控工具（如 Nagios、Zabbix）监控系统状态，及时发现和解决问题。
3. **日志管理**: 定期查看系统日志（如 /var/log 目录下的日志文件），及时发现和解决潜在问题。
4. **用户管理**: 为每个用户分配独立账户，避免共享同一个账户，定期检查和删除不需要的用户账户。